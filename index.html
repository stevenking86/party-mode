<!doctype html>
<html>
  <head>
    <title>Party Mode</title>
    <link rel="stylesheet" href="index.css">
    <link href="https://fonts.googleapis.com/css?family=Satisfy" rel="stylesheet">
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.145.0.min.js"></script>
    <script type='text/javascript' src='hue.js'></script>
    <script type='text/javascript' src='aws.js'></script>
    <script type='text/javascript' src='Microphone.js'></script>

  </head>
    <div class="header">
      <h1>Welcome to Party Mode</h1>
      <h2>We'll kindly ask for access to your microphone before we begin the show.</h2>
      <p>Please enter your hue API.<span><a href="https://www.meethue.com/api/nupnp" target="_blank">Get it!</a></span></p>
      <input id="hueIP" type="text" name="firstname" placeholder="000.000.000.">
    <div>


  <body>
    <script>
    var Mic = new Microphone();

    setInterval(function() {
      updateLights(Mic.soundValues());
    }, 300);

    var updateLights = function(values) {
        console.log('updateLights is being called');
        console.log(values);

        updateLight("highs", 1, values.highs, values.vol, 25);
        updateLight("mids", 2, values.mids, values.vol, 25);
        updateLight("bass", 3, values.bass, values.vol, 0);

        sendKinesisData(values);
    }
    </script>
  </body>
</html>
